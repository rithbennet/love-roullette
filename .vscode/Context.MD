Perfect ğŸ’˜ â€” since your **Cupid.exe** project and `gamestore` are already set up, the next big milestone is evolving the game from using **constant mock players/settings** into a **fully interactive setup** where users input names and configure rounds before starting the game.

Hereâ€™s a focused `plan.md` task list for that transition ğŸ‘‡

---

# ğŸ¹ Cupid.exe â€” Plan: Interactive Setup & Player Input

### ğŸ¯ Goal

Convert the prototype from hardcoded constants into a dynamic, userâ€‘driven setup:

- Players can **add/remove themselves** in the _Add Players_ screen.
- Users can **configure total rounds (1â€“15)** on the _Settings_ screen.
- â€œStart Gameâ€ becomes enabled only when **3â€“5 players** are present.
- All values are liveâ€‘synced with the existing `useGameStore`.

---

## ğŸ§  Context

âœ… `useGameStore` already exists â€” it includes actions:  
`addPlayer`, `removePlayer`, `setTotalRounds`, `startGame`, etc.  
Now weâ€™ll connect those to proper **text input fields, buttons**, and navigation.

---

## ğŸ“‹ Toâ€‘Do Tasks

### 1. **Settings Screen UI (app/index.tsx)**

- [ ] Replace static content with live data from `useGameStore`.
- [ ] Display current round config:
  - [ ] Show `Round Count: {totalRounds}`.
  - [ ] Create `[â€“]` and `[+]` `Pressable` buttons â†’ call `setTotalRounds()`.
  - [ ] Clamp rounds between 1â€“15 when pressing buttons.
- [ ] Show player count: `Players: {players.length} / 5`.
- [ ] Add navigation buttons:
  - [ ] â€œAdd Playersâ€ â†’ navigate to `/add-players`.
  - [ ] â€œStart Gameâ€ â†’ triggers `startGame()` â†’ navigate to `/pregame`.
- [ ] Disable â€œStart Gameâ€ until there are **3â€“5 players**.

---

### 2. **Add Players Screen (app/add-players.tsx)**

- [ ] Access state + actions: `players`, `addPlayer`, `removePlayer`.
- [ ] Build basic text entry:
  - [ ] `TextInput` for **Player Name (required)**.
  - [ ] Optional `TextInput` for **Crush Name**.
  - [ ] Buttons or pressable chips for **Daring Level (1â€“3)**, default `1`.
- [ ] â€œAdd Playerâ€ button:
  - [ ] Create ID (from store or auto via `nanoid` inside action).
  - [ ] Call `addPlayer(name, crush, daringLevel)`.
  - [ ] Clear inputs after adding.
  - [ ] Disable if there are already 5 players.
- [ ] Show a live list of all player entries:
  - [ ] Display: `name` + â€œ(â¤ï¸ crush)â€ + daring level emoji (ğŸ”¥ 1â€‘3).
  - [ ] Add a small â€œRemoveâ€ button â†’ `removePlayer(id)`.
- [ ] Navigation:
  - [ ] â€œBack to Settingsâ€ â†’ `/`.
  - [ ] Optional â€œReadyâ€ â†’ `/` as shortcut.

---

### 3. **Synchronize Settings with State**

- [ ] Verify `setTotalRounds()` updates immediately in the store.
- [ ] Confirm player array persists when navigating between screens.
- [ ] Ensure `startGame()` only works if:
  ```ts
  players.length >= 3 && players.length <= 5;
  ```
- [ ] Use guards in `startGame()` to enforce the limit before switching to `"pregame"`.

---

### 4. **Preâ€‘Game Transitions (app/pregame.tsx)**

- [ ] Show intro text:  
      `"Cupid is locking targets... ğŸ’˜"`
- [ ] Add button:
  - [ ] â€œBegin Roundâ€ â†’ calls `beginRound()` and navigates to `/round`.
- [ ] Optional: display player names (for flavor).

---

### 5. **Verification Checklist**

| Requirement        | Expected Behavior                         |
| ------------------ | ----------------------------------------- |
| Round counter      | Adjusts live between 1â€“15 with buttons    |
| Player adding      | Adds to state, visible instantly          |
| Player removing    | Updates count dynamically                 |
| Player constraints | Enforce 3 min / 5 max                     |
| Start button       | Enabled only 3â€“5 players                  |
| Game start         | Moves phase â†’ â€œpregameâ€, route `/pregame` |

---

### 6. **Edge Case Testing**

- [ ] Try adding fewer than 3 players â†’ â€œStart Gameâ€ stays disabled.
- [ ] Try adding >5 players â†’ â€œAdd Playerâ€ disabled / shows alert.
- [ ] Validate round decrement under 1 â†’ clamped to 1.
- [ ] Validate increment over 15 â†’ clamped to 15.
- [ ] Confirm navigating back to Settings retains existing players and round count.

---

### 7. **Stretch Goals (nice to have)**

- [ ] Add light emoji feedback (ğŸ’˜ when player added, ğŸ’€ when removed).
- [ ] Persist `players` and `rounds` to AsyncStorage so reopening app continues setup.
- [ ] Add simple validation messages (e.g. empty name alerts).

---

## ğŸ§© Deliverables

- [ ] Updated **`app/index.tsx`**  
      (interactive rounds + navigation)
- [ ] Updated **`app/add-players.tsx`**  
      (real player input, remove control)
- [ ] Verified **`startGame()`** works with real data.
- [ ] Game can now start dynamically from user-defined players and settings.

---

âœ… **Outcome:**  
Cupid.exe moves from a hardcoded mock setup â†’ a real, configurable hotseat experience, with functional player input and round management ready for the preâ€‘game and full gameplay loop.

---

Would you like me to generate the starter UI code for `app/add-players.tsx` and `app/index.tsx` (text-only, Expo Routerâ€‘safe, hooked to your `useGameStore`)?
